{"version":3,"sources":["webpack:///E:/demo/git-resource/patient-front-wechat/patient-front-wechat/patient-front-wechat/node_modules/@climblee/uv-ui/components/uv-image/uv-image.vue?e6f5","webpack:///E:/demo/git-resource/patient-front-wechat/patient-front-wechat/patient-front-wechat/node_modules/@climblee/uv-ui/components/uv-image/uv-image.vue?64f0","webpack:///E:/demo/git-resource/patient-front-wechat/patient-front-wechat/patient-front-wechat/node_modules/@climblee/uv-ui/components/uv-image/uv-image.vue?1b04","webpack:///E:/demo/git-resource/patient-front-wechat/patient-front-wechat/patient-front-wechat/node_modules/@climblee/uv-ui/components/uv-image/uv-image.vue?fea7","uni-app:///node_modules/@climblee/uv-ui/components/uv-image/uv-image.vue","webpack:///E:/demo/git-resource/patient-front-wechat/patient-front-wechat/patient-front-wechat/node_modules/@climblee/uv-ui/components/uv-image/uv-image.vue?b786","webpack:///E:/demo/git-resource/patient-front-wechat/patient-front-wechat/patient-front-wechat/node_modules/@climblee/uv-ui/components/uv-image/uv-image.vue?0e51"],"names":["name","emits","mixins","data","isError","loading","backgroundStyle","show","observeShow","elIndex","imgWidth","imgHeight","thresholdValue","watch","src","immediate","handler","width","height","computed","wrapStyle","style","imageStyle","created","mounted","methods","onClick","onErrorHandler","onLoadHandler","removeBgColor","backgroundColor","observerFn","uni","setTimeout","contentObserver","bottom","disconnectObserver","observer"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AAC2K;AAC3K,gBAAgB,oLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mVAEN;AACP,KAAK;AACL;AACA,aAAa,+SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAgoB,CAAgB,qpBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACmEppB;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA,eA0BA;EACAA;EACAC;EACAC;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACAC;QACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;MACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;QACAC;MACA;MACA;QACAA;MACA;MACA;MACAA;MACA;MACAA;MACA;IACA;IACAC;MACA;MACAD;MAKA;IACA;EACA;EACAE;IACA;IACA;IACA;EACA;EACAC;IAAA;IACA;IACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;UACA;QACA;MACA;MACAC;QAEA;QACA;QACAC;UACAC;QACA;UACA;YACA;YACA;YACA;YACA;UACA;QACA;QACA;MAKA;IACA;IACAC;MACA;MACAC;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxPA;AAAA;AAAA;AAAA;AAA2tC,CAAgB,wrCAAG,EAAC,C;;;;;;;;;;;ACA/uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"node-modules/@climblee/uv-ui/components/uv-image/uv-image.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./uv-image.vue?vue&type=template&id=d2e3ff38&scoped=true&\"\nvar renderjs\nimport script from \"./uv-image.vue?vue&type=script&lang=js&\"\nexport * from \"./uv-image.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uv-image.vue?vue&type=style&index=0&id=d2e3ff38&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d2e3ff38\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"node_modules/@climblee/uv-ui/components/uv-image/uv-image.vue\"\nexport default component.exports","export * from \"-!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uv-image.vue?vue&type=template&id=d2e3ff38&scoped=true&\"","var components\ntry {\n  components = {\n    uvTransition: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/@climblee/uv-ui/components/uv-transition/uv-transition\" */ \"@climblee/uv-ui/components/uv-transition/uv-transition.vue\"\n      )\n    },\n    uvIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/@climblee/uv-ui/components/uv-icon/uv-icon\" */ \"@climblee/uv-ui/components/uv-icon/uv-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.show\n    ? _vm.__get_style([_vm.wrapStyle, _vm.backgroundStyle])\n    : null\n  var s1 =\n    _vm.show && !_vm.isError && _vm.observeShow\n      ? _vm.__get_style([_vm.imageStyle])\n      : null\n  var g0 =\n    _vm.show && _vm.showLoading && _vm.loading && !(_vm.shape == \"circle\")\n      ? _vm.$uv.addUnit(_vm.radius)\n      : null\n  var g1 =\n    _vm.show && _vm.showLoading && _vm.loading\n      ? _vm.$uv.addUnit(_vm.width)\n      : null\n  var g2 =\n    _vm.show && _vm.showLoading && _vm.loading\n      ? _vm.$uv.addUnit(_vm.height)\n      : null\n  var g3 =\n    _vm.show &&\n    _vm.showError &&\n    _vm.isError &&\n    !_vm.loading &&\n    !(_vm.shape == \"circle\")\n      ? _vm.$uv.addUnit(_vm.radius)\n      : null\n  var g4 =\n    _vm.show && _vm.showError && _vm.isError && !_vm.loading\n      ? _vm.$uv.addUnit(_vm.width)\n      : null\n  var g5 =\n    _vm.show && _vm.showError && _vm.isError && !_vm.loading\n      ? _vm.$uv.addUnit(_vm.height)\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0,\n        s1: s1,\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uv-image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uv-image.vue?vue&type=script&lang=js&\"","<template>\r\n\t<uv-transition\r\n\t\tv-if=\"show\"\r\n\t\t:show=\"show\"\r\n\t\tmode=\"fade\"\r\n\t\t:duration=\"fade ? duration : 0\"\r\n\t\t:cell-child=\"cellChild\"\r\n\t\t:custom-style=\"wrapStyle\"\r\n\t>\r\n\t\t<view\r\n\t\t\tclass=\"uv-image\"\r\n\t\t\t:class=\"[`uv-image--${elIndex}`]\"\r\n\t\t\t@tap=\"onClick\"\r\n\t\t\t:style=\"[wrapStyle, backgroundStyle]\"\r\n\t\t>\r\n\t\t\t<image\r\n\t\t\t\tv-if=\"!isError && observeShow\"\r\n\t\t\t\t:src=\"src\"\r\n\t\t\t\t:mode=\"mode\"\r\n\t\t\t\t@error=\"onErrorHandler\"\r\n\t\t\t\t@load=\"onLoadHandler\"\r\n\t\t\t\t:show-menu-by-longpress=\"showMenuByLongpress\"\r\n\t\t\t\t:lazy-load=\"lazyLoad\"\r\n\t\t\t\tclass=\"uv-image__image\"\r\n\t\t\t\t:style=\"[imageStyle]\"\r\n\t\t\t\t:webp=\"webp\"\r\n\t\t\t></image>\r\n\t\t\t<view\r\n\t\t\t\tv-if=\"showLoading && loading\"\r\n\t\t\t\tclass=\"uv-image__loading\"\r\n\t\t\t\t:style=\"{\r\n\t\t\t\t\tborderRadius: shape == 'circle' ? '50%' : $uv.addUnit(radius),\r\n\t\t\t\t\tbackgroundColor: bgColor,\r\n\t\t\t\t\twidth: $uv.addUnit(width),\r\n\t\t\t\t\theight: $uv.addUnit(height)\r\n\t\t\t\t}\"\r\n\t\t\t>\r\n\t\t\t\t<slot name=\"loading\">\r\n\t\t\t\t\t<uv-icon\r\n\t\t\t\t\t\t:name=\"loadingIcon\"\r\n\t\t\t\t\t\t:width=\"width\"\r\n\t\t\t\t\t\t:height=\"height\"\r\n\t\t\t\t\t></uv-icon>\r\n\t\t\t\t</slot>\r\n\t\t\t</view>\r\n\t\t\t<view\r\n\t\t\t\tv-if=\"showError && isError && !loading\"\r\n\t\t\t\tclass=\"uv-image__error\"\r\n\t\t\t\t:style=\"{\r\n\t\t\t\t\tborderRadius: shape == 'circle' ? '50%' : $uv.addUnit(radius),\r\n\t\t\t\t\twidth: $uv.addUnit(width),\r\n\t\t\t\t\theight: $uv.addUnit(height)\r\n\t\t\t\t}\"\r\n\t\t\t>\r\n\t\t\t\t<slot name=\"error\">\r\n\t\t\t\t\t<uv-icon\r\n\t\t\t\t\t\t:name=\"errorIcon\"\r\n\t\t\t\t\t\t:width=\"width\"\r\n\t\t\t\t\t\t:height=\"height\"\r\n\t\t\t\t\t></uv-icon>\r\n\t\t\t\t</slot>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</uv-transition>\r\n</template>\r\n\r\n<script>\r\n\timport mpMixin from '../../libs/mixin/mpMixin.js'\r\n\timport mixin from '../../libs/mixin/mixin.js'\r\n\timport props from './props.js';\r\n\t/**\r\n\t * Image 图片\r\n\t * @description 此组件为uni-app的image组件的加强版，在继承了原有功能外，还支持淡入动画、加载中、加载失败提示、圆角值和形状等。\r\n\t * @tutorial https://www.uvui.cn/components/image.html\r\n\t * @property {String}\t\t\tsrc \t\t\t\t图片地址\r\n\t * @property {String}\t\t\tmode \t\t\t\t裁剪模式，见官网说明 （默认 'aspectFill' ）\r\n\t * @property {String | Number}\twidth \t\t\t\t宽度，单位任意，如果为数值，则为px单位 （默认 '300' ）\r\n\t * @property {String | Number}\theight \t\t\t\t高度，单位任意，如果为数值，则为px单位 （默认 '225' ）\r\n\t * @property {String}\t\t\tshape \t\t\t\t图片形状，circle-圆形，square-方形 （默认 'square' ）\r\n\t * @property {String | Number}\tradius\t\t \t\t圆角值，单位任意，如果为数值，则为px单位 （默认 0 ）\r\n\t * @property {Boolean}\t\t\tlazyLoad\t\t\t是否懒加载，仅微信小程序、App、百度小程序、字节跳动小程序有效 （默认 true ）\r\n\t * @property {Boolean}\t\t\tshowMenuByLongpress\t是否开启长按图片显示识别小程序码菜单，仅微信小程序有效 （默认 true ）\r\n\t * @property {String}\t\t\tloadingIcon \t\t加载中的图标，或者小图片 （默认 'photo' ）\r\n\t * @property {String}\t\t\terrorIcon \t\t\t加载失败的图标，或者小图片 （默认 'error-circle' ）\r\n\t * @property {Boolean}\t\t\tshowLoading \t\t是否显示加载中的图标或者自定义的slot （默认 true ）\r\n\t * @property {Boolean}\t\t\tshowError \t\t\t是否显示加载错误的图标或者自定义的slot （默认 true ）\r\n\t * @property {Boolean}\t\t\tfade \t\t\t\t是否需要淡入效果 （默认 true ）\r\n\t * @property {Boolean}\t\t\twebp \t\t\t\t只支持网络资源，只对微信小程序有效 （默认 false ）\r\n\t * @property {String | Number}\tduration \t\t\t搭配fade参数的过渡时间，单位ms （默认 500 ）\r\n\t * @property {String}\t\t\tbgColor \t\t\t背景颜色，用于深色页面加载图片时，为了和背景色融合  (默认 '#f3f4f6' )\r\n\t * @property {Object}\t\t\tcustomStyle  \t\t定义需要用到的外部样式\r\n\t * @event {Function}\tclick\t点击图片时触发\r\n\t * @event {Function}\terror\t图片加载失败时触发\r\n\t * @event {Function} load 图片加载成功时触发\r\n\t * @example <uv-image width=\"100%\" height=\"300px\" :src=\"src\"></uv-image>\r\n\t */\r\n\texport default {\r\n\t\tname: 'uv-image',\r\n\t\temits: ['click','load','error'],\r\n\t\tmixins: [mpMixin, mixin, props],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 图片是否加载错误，如果是，则显示错误占位图\r\n\t\t\t\tisError: false,\r\n\t\t\t\t// 初始化组件时，默认为加载中状态\r\n\t\t\t\tloading: true,\r\n\t\t\t\t// 图片加载完成时，去掉背景颜色，因为如果是png图片，就会显示灰色的背景\r\n\t\t\t\tbackgroundStyle: {},\r\n\t\t\t\t// 用于fade模式的控制组件显示与否\r\n\t\t\t\tshow: false,\r\n\t\t\t\t// 是否开启图片出现在可视范围进行加载（另一种懒加载）\r\n\t\t\t\tobserveShow: !this.observeLazyLoad,\r\n\t\t\t\telIndex: '',\r\n\t\t\t\t// 因为props的值无法修改，故需要一个中间值\r\n\t\t\t\timgWidth: this.width,\r\n\t\t\t\t// 因为props的值无法修改，故需要一个中间值\r\n\t\t\t\timgHeight: this.height,\r\n\t\t\t\tthresholdValue: 50\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tsrc: {\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler(n) {\r\n\t\t\t\t\tif (!n) {\r\n\t\t\t\t\t\t// 如果传入null或者''，或者false，或者undefined，标记为错误状态\r\n\t\t\t\t\t\tthis.isError = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isError = false;\r\n\t\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twidth(newVal){\r\n\t\t\t\t// 这样做的目的是避免在更新时候，某些平台动画会恢复关闭状态\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\tthis.$uv.sleep(2).then(res=>{\r\n\t\t\t\t\tthis.show = true;\r\n\t\t\t\t});\r\n\t\t\t\tthis.imgWidth = newVal;\r\n\t\t\t},\r\n\t\t\theight(newVal){\r\n\t\t\t\t// 这样做的目的是避免在更新时候，某些平台动画会恢复关闭状态\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\tthis.$uv.sleep(2).then(res=>{\r\n\t\t\t\t\tthis.show = true;\r\n\t\t\t\t});\r\n\t\t\t\tthis.imgHeight = newVal;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\twrapStyle() {\r\n\t\t\t\tlet style = {};\r\n\t\t\t\t// 通过调用addUnit()方法，如果有单位，如百分比，px单位等，直接返回，如果是纯粹的数值，则加上rpx单位\r\n\t\t\t\tif(this.mode !== 'heightFix') {\r\n\t\t\t\t\tstyle.width = this.$uv.addUnit(this.imgWidth);\r\n\t\t\t\t}\r\n\t\t\t\tif(this.mode !== 'widthFix') {\r\n\t\t\t\t\tstyle.height = this.$uv.addUnit(this.imgHeight);\r\n\t\t\t\t}\r\n\t\t\t\t// 如果是显示圆形，设置一个很多的半径值即可\r\n\t\t\t\tstyle.borderRadius = this.shape == 'circle' ? '10000px' : this.$uv.addUnit(this.radius)\r\n\t\t\t\t// 如果设置圆角，必须要有hidden，否则可能圆角无效\r\n\t\t\t\tstyle.overflow = this.radius > 0 ? 'hidden' : 'visible'\r\n\t\t\t\treturn this.$uv.deepMerge(style, this.$uv.addStyle(this.customStyle));\r\n\t\t\t},\r\n\t\t\timageStyle() {\r\n\t\t\t\tlet style = {};\r\n\t\t\t\tstyle.borderRadius = this.shape == 'circle' ? '10000px' : this.$uv.addUnit(this.radius);\r\n\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\tstyle.width = this.$uv.addUnit(this.imgWidth);\r\n\t\t\t\tstyle.height = this.$uv.addUnit(this.imgHeight);\r\n\t\t\t\t// #endif\r\n\t\t\t\treturn style;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.elIndex = this.$uv.guid();\r\n\t\t\tthis.observer = {}\r\n\t\t\tthis.observerName = 'lazyLoadContentObserver'\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.show = true;\r\n\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\tif(this.observeLazyLoad) this.observerFn();\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 点击图片\r\n\t\t\tonClick() {\r\n\t\t\t\tthis.$emit('click')\r\n\t\t\t},\r\n\t\t\t// 图片加载失败\r\n\t\t\tonErrorHandler(err) {\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tthis.isError = true\r\n\t\t\t\tthis.$emit('error', err)\r\n\t\t\t},\r\n\t\t\t// 图片加载完成，标记loading结束\r\n\t\t\tonLoadHandler(event) {\r\n\t\t\t\tif(this.mode == 'widthFix') this.imgHeight = 'auto'\r\n\t\t\t\tif(this.mode == 'heightFix') this.imgWidth = 'auto'\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tthis.isError = false\r\n\t\t\t\tthis.$emit('load', event)\r\n\t\t\t\tthis.removeBgColor()\r\n\t\t\t},\r\n\t\t\t// 移除图片的背景色\r\n\t\t\tremoveBgColor() {\r\n\t\t\t\t// 淡入动画过渡完成后，将背景设置为透明色，否则png图片会看到灰色的背景\r\n\t\t\t\tthis.backgroundStyle = {\r\n\t\t\t\t\tbackgroundColor: 'transparent'\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t// 观察图片是否在可见视口\r\n\t\t\tobserverFn(){\r\n\t\t\t\t// 在需要用到懒加载的页面，在触发底部的时候触发tOnLazyLoadReachBottom事件，保证所有图片进行加载\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tuni.$once('onLazyLoadReachBottom', () => {\r\n\t\t\t\t\t\tif (!this.observeShow) this.observeShow = true\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\t\tthis.disconnectObserver(this.observerName)\r\n\t\t\t\t\tconst contentObserver = uni.createIntersectionObserver(this)\r\n\t\t\t\t\tcontentObserver.relativeToViewport({\r\n\t\t\t\t\t\tbottom: this.thresholdValue\r\n\t\t\t\t\t}).observe(`.uv-image--${this.elIndex}`, (res) => {\r\n\t\t\t\t\t\tif (res.intersectionRatio > 0) {\r\n\t\t\t\t\t\t\t// 懒加载状态改变\r\n\t\t\t\t\t\t\tthis.observeShow = true\r\n\t\t\t\t\t\t\t// 如果图片已经加载，去掉监听，减少性能消耗\r\n\t\t\t\t\t\t\tthis.disconnectObserver(this.observerName)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis[this.observerName] = contentObserver\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\t\tthis.observeShow = true;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}, 50)\r\n\t\t\t},\r\n\t\t\tdisconnectObserver(observerName) {\r\n\t\t\t\tconst observer = this[observerName]\r\n\t\t\t\tobserver && observer.disconnect()\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import '../../libs/css/components.scss';\r\n\t@import '../../libs/css/color.scss';\r\n\t$uv-image-error-top:0px !default;\r\n\t$uv-image-error-left:0px !default;\r\n\t$uv-image-error-width:100% !default;\r\n\t$uv-image-error-hight:100% !default;\r\n\t$uv-image-error-background-color:$uv-bg-color !default;\r\n\t$uv-image-error-color:$uv-tips-color !default;\r\n\t$uv-image-error-font-size: 46rpx !default;\r\n\r\n\t.uv-image {\r\n\t\tposition: relative;\r\n\t\ttransition: opacity 0.5s ease-in-out;\r\n\r\n\t\t&__image {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\t&__loading,\r\n\t\t&__error {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: $uv-image-error-top;\r\n\t\t\tleft: $uv-image-error-left;\r\n\t\t\twidth: $uv-image-error-width;\r\n\t\t\theight: $uv-image-error-hight;\r\n\t\t\t@include flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tbackground-color: $uv-image-error-background-color;\r\n\t\t\tcolor: $uv-image-error-color;\r\n\t\t\tfont-size: $uv-image-error-font-size;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uv-image.vue?vue&type=style&index=0&id=d2e3ff38&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\demo\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uv-image.vue?vue&type=style&index=0&id=d2e3ff38&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1724077847124\n      var cssReload = require(\"D:/demo/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}